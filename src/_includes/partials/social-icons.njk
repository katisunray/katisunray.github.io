{% set socials = site and site.author and site.author.social or {} %}
{% set items = [
  { "key": "instagram", "username": socials.instagram, "base": "https://instagram.com/", "label": "Instagram" },
  { "key": "facebook",  "username": socials.facebook,  "base": "https://facebook.com/",  "label": "Facebook" },
  { "key": "x",         "username": socials.x,         "base": "https://x.com/",         "label": "X" }
] %}

<div class="flex items-center gap-4">
  {% for it in items %}
    {% set enabled = it.username %}
    {% if enabled %}
      {% set href = it.base ~ it.username %}
    {% else %}
      {% set href = '#' %}
    {% endif %}
    {% if enabled %}
      {% set stateClass = 'text-neutral-300 hover:text-white hover:border-neutral-400' %}
    {% else %}
      {% set stateClass = 'text-neutral-500/60 cursor-not-allowed opacity-50' %}
    {% endif %}
    <a
      href="{{ href }}"
      {% if not enabled %}aria-disabled="true" title="{{ it.label }} (coming soon)"{% else %}title="{{ it.label }}"{% endif %}
      class="inline-flex items-center justify-center w-9 h-9 rounded-full border border-neutral-600/40 {{ stateClass }} transition-colors"
      {% if enabled %}rel="noopener noreferrer" target="_blank"{% endif %}
    >
      {% if it.key == 'instagram' %}
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.6" class="w-5 h-5">
          <rect x="3" y="3" width="18" height="18" rx="5" ry="5"></rect>
          <circle cx="12" cy="12" r="4"></circle>
          <circle cx="17.5" cy="6.5" r="1.2" fill="currentColor" stroke="none"></circle>
        </svg>
      {% elseif it.key == 'facebook' %}
        <svg viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
          <path d="M22 12.07C22 6.48 17.52 2 11.93 2 6.34 2 1.86 6.48 1.86 12.07c0 4.98 3.64 9.11 8.4 9.93v-7.02H7.9v-2.91h2.36V9.86c0-2.33 1.39-3.62 3.52-3.62 1.02 0 2.1.18 2.1.18v2.3h-1.18c-1.17 0-1.53.73-1.53 1.48v1.77h2.61l-.42 2.91h-2.19V22c4.76-.82 8.4-4.95 8.4-9.93z"/>
        </svg>
      {% else %}
        <svg viewBox="0 0 24 24" fill="currentColor" class="w-5 h-5">
          <path d="M3 3l7.5 8.7L3.5 21h2.4l6-6.8 4.8 6.8H21l-7.8-8.9L20.5 3h-2.4l-5.5 6.2L8.3 3H3z"/>
        </svg>
      {% endif %}
    </a>
  {% endfor %}
  {% if not (items | selectattr('url') | list | length) %}
    <span class="sr-only">Social links coming soon</span>
  {% endif %}
</div>
